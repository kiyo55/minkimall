<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">

<link href="/css/top.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" 
href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<style type="text/css">
</style>

</head>
<body>
<nav th:classappend="${session.username != null} ? 'nav-logged-in' : 'nav-logged-out'">
	<div align="center">
		<div style="width: 1200px; display: flex; justify-content: flex-end;">
			<div th:if="${session.username != null}">
			    <span th:text="${session.username} + '님 환영합니다.'"></span>			    
			    <a type="button" class="iconBtn" href="/login/logout">
					<span class="material-symbols-outlined">
					logout
					</span>
				</a>
			</div>
		</div>
	</div>
	
	<div align="center">
		<!-- 상단 -->
		<div style="width: 1200px; display: flex; justify-content: space-between; align-items: center;">	
				
			<!-- 상좌 -->
			<div style="width: 15%; text-align: left; display: flex; flex-wrap: wrap;">			
				<a href="/">
					<img th:src="@{/img/img2/mall_logo.png}" class="imgLogo">		
				</a>
			</div><!-- 상좌 끝 -->
			
			<!-- 검색바 -->
			<div style="width: 60%; text-align: center;">
					<form action="/prd/seachPrd" method="post">
				     <select name="searchCdt">
				         <option value="pname">상품명</option>
				         <option value="category">카테고리</option>
				     </select>
				     <input type="text" name="searchKw" placeholder="검색어 입력" class="search">
					<button type="submit" class="iconBtn">
						<span class="material-symbols-outlined">search</span>
					</button>
				</form>
			</div><!-- 검색바 끝 -->
			
			<div style="width: 25%; text-align: right;"><!-- 상우 -->
			
			<!-- 전체공개 -->
			<a type="button" class="iconBtn" href="/prd/prdList4user">						
				<span class="material-symbols-outlined">
				shopping_bag
				</span>
			</a>&emsp;
			
				<!-- 	로그인한 admin만 볼 수 있는 영역 -->
				<div th:if="${session.username != null and session.loginType == 'admin'}" style="display:inline;">	
							
					<a type="button" class="iconBtn" href="/ord/orderList4adm">						
						<span class="material-symbols-outlined">
						checklist_rtl
						</span>
					</a>&emsp;

					<div class="dropdown">
						<button class="dropbtn"> 
							<span class="material-symbols-outlined">menu</span>
						</button>
						
						<div class="dropdown-content">						
							<div class="sub-dropdown">
								<a href="#">상품관리</a>
								<div class="sub-dropdown-content">
									<a href="/prd/prdList">상품목록</a>							
									<a href="/prd/addPrdForm">상품추가</a>	
								</div>
    						</div>					
							
							<div class="sub-dropdown">
								<a href="#">통계</a>
								<div class="sub-dropdown-content">
									<a href="/prd/ordQntByPrd">상품별 주문량</a>
									<a href="/prd/salesByPrd">상품별 매출</a>
									<a href="/ord/stcByOdate">주문일별 통계</a>
									<a href="/ord/cntPrdByStatus">주문상품 상태</a>
								</div>
    						</div>
    						
							<a href="/user/userList">회원목록</a>
						</div><!-- dropdown-content 끝 -->
					</div><!-- dropdown 끝 -->
		       </div><!-- 	로그인한 admin만 볼 수 있는 영역 끝 -->			
	
				<!-- 	로그인한 user만 볼 수 있는 영역 -->
				<div th:if="${session.username != null and session.loginType == 'user'}" style="display:inline;">					
					<a type="button" class="iconBtn" th:href="@{/cart/cart}">						
						<span class="material-symbols-outlined">
						shopping_cart
						</span>
					</a>&emsp;
					
					<div class="dropdown">
						<button class="dropbtn"> 
							<span class="material-symbols-outlined">menu</span>
						</button>
						
						<div class="dropdown-content">
							<a th:href="@{/ord/myOrder}">주문목록</a>							
							
							<div class="sub-dropdown">
								<a href="#">후기관리</a>
								<div class="sub-dropdown-content">
									<a href="/review/myReview">나의후기</a>
									<a href="/review/reviewable">후기작성</a>
								</div>
    						</div>
							
							<a href="/offlineStore">매장정보</a>
						</div>
					</div>			
				</div><!-- 로그인한 user만 볼 수 있는 영역 끝 -->
			
				<!-- 로그인 전 (이미 로그인 중이면 출력 필요x) -->
			    <div th:if="${session.username == null}" style="display:inline;">			    
					<a type="button" class="iconBtn" href="/offlineStore">						
						<span class="material-symbols-outlined">
						storefront
						</span>
					</a>&emsp;
					
			        <a type="button" class="iconBtn" href="/login/loginForm">						
						<span class="material-symbols-outlined">
						login
						</span>
					</a>&emsp;
					
			        <a type="button" class="iconBtn" href="/user/joinForm">						
						<span class="material-symbols-outlined">
						add_reaction
						</span>
					</a>					
			    </div><!-- 로그인 전 끝 -->
			</div><!-- 상우 끝 -->
		</div><!-- 상단 끝 -->
	</div><!-- align center 끝 -->
</nav>

<div class="separator-horizontal2" 
th:classappend="${session.username != null} ? 'sep-logged-in' : 'sep-logged-out'"></div><!-- 수평선 -->