<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">

<link rel="icon" href="/img/img2/favicon.png" type="image/png">
<title>ìƒí’ˆ ì¶”ê°€</title>
</head>
<body>
<div th:replace="include/top"></div>
<section>
<br>
<div align="center">

<h1>ìƒí’ˆ ì¶”ê°€</h1>

	<div class="listDiv">
	    <button type="button" class="addPrdBtn" onclick="window.open('/prd/prdList', '_blank')">
	    ğŸ“‹ ìƒí’ˆëª©ë¡</button>
	</div>	
	<br>

<form action="/prd/addPrd" 
method="post" enctype="multipart/form-data">

<table class="addPrdTable">		
	<tr>	
		<th>ìƒí’ˆëª…</th>
		<td><input type="text"  name="pname" required></td>
	</tr>
		
	<tr>	
		<th>ì‚¬ì§„</th>
		<td><input type="file" name="pimg" required></td>
	</tr>
	
	<tr>	
		<th>ë¶„ë¥˜</th>
		<td>		
			<select name="category"  id="categorySelect" required onchange="handleCategoryChange()">                 
                 <option value="í‚¤ë§">í‚¤ë§</option>
                 <option value="ì™€íœ">ì™€íœ</option>
                 <option value="ì¸í˜•">ì¸í˜•</option>
                 <option value="í¬ì¹´">í¬ì¹´</option>
                 <option value="ë¸Œë¡œì¹˜í•€">ë¸Œë¡œì¹˜í•€</option>
                 <option value="custom">ì§ì ‘ì…ë ¥</option>
             </select>
             <input name="categoryInput" id="categoryInput" style="display:none;" placeholder="ì§ì ‘ì…ë ¥">
		</td>
	</tr>
	
	<tr>	
		<th>ì„¤ëª…</th>
		<td><input type="text"  name="pdesc" value="ê·€ì—¼ë½€ì§"></td>
	</tr>
		
	<tr>	
		<th>íŒë§¤ê°€</th>
		<td><input type="text"  name="pprice" value="5000">ì›</td>
	</tr>
	
	<tr>	
		<th>ê±´ë‹¹ì£¼ë¬¸ê°€ëŠ¥ìˆ˜ëŸ‰</th>
		<td><input type="text"  name="pstock" value="10"><small>* ì‚¬ìš©ìê°€ ì£¼ë¬¸ ê±´ë‹¹ ë‹´ì„ ìˆ˜ ìˆëŠ” ìˆ˜ëŸ‰ì…ë‹ˆë‹¤.</small></td>
	</tr>
		
	<tr>	
		<th>ë°°ì†¡ë¹„</th>
		<td><input type="text"  name="pdelifee" value="0">ì›</td>
	</tr>
	
	<tr>	
	<th>ìƒì„¸ì„¤ëª…</th>		
	<td>
	<textarea  id="summernote" name="pdetail">ì´ë ‡ê²Œ í™œìš©í•  ìˆ˜ ìˆì–´ìš”~</textarea>
	</td>
</tr>
</table>

<input type=submit  value=ë“±ë¡ class=button>
&emsp;
<input type="reset"  value="ë‹¤ì‹œ ì…ë ¥" class=subbtn>

</form>

<br>
</div>
</section>
<div  th:replace="include/bottom::footer"></div>

<script>
//ì¹´í…Œê³ ë¦¬ ì™¸ ì§ì ‘ì…ë ¥ ì‹œ
    function handleCategoryChange() {
        var selectElement = document.getElementById('categorySelect');
        var inputElement = document.getElementById('categoryInput');
        
        if (selectElement.value === 'custom') {
            inputElement.style.display = 'inline';
            inputElement.required = true;
            selectElement.name = '';  // ì„ íƒí•œ ê°’ì„ í¼ì—ì„œ ì œê±°
            inputElement.name = 'category';  // ì…ë ¥í•œ ê°’ì„ í¼ì— ì¶”ê°€
        } else {
            inputElement.style.display = 'none';
            inputElement.required = false;
            selectElement.name = 'category';  // ì„ íƒí•œ ê°’ì´ í¼ì— í¬í•¨
            inputElement.name = 'categoryInput';  // ì…ë ¥ í•„ë“œë¥¼ í¼ì—ì„œ ì œì™¸
        }
    }
</script>

<!-- libraries(jQuery, bootstrap) -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<!-- summernote -->
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

<script>
//ì‘ì„±ë€
   $(document).ready(function() {
	   $('#summernote').summernote({
           placeholder: 'ìƒì„¸ì„¤ëª… ì‘ì„±ë€ì…ë‹ˆë‹¤.',
           tabsize: 2,
           height: 300
       });

       // ì½˜ì†”ì— summernote ì¸ìŠ¤í„´ìŠ¤ ì¶œë ¥
       console.log('summernote instance:', $summernote.summernote('code'));
   });
</script>

</body>
</html>